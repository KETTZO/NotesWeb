<!DOCTYPE html>
<html lang="en">
    <head>
        <fonts>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

            <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">

            <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap" rel="stylesheet">
        </fonts>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="formulario_style.css">
        <title>Registro</title>
        <script>
            
           

            function ClickRegistro(){
                

                const date= document.getElementById("currentDate")
                const fecha = new Date(date.value);
                const fecha2 = new Date()
                //var fromato = fecha2.toISOString().split('T')[0];
                var diff = Math.floor((fecha2-fecha)/(24*3600*1000));
                if(!date.validity.valid){
                    return;
                }
                if(!(diff >= 4380)){
                    alert("Necesitas tener al menos 12 años para registrarte");
                    return;
                }

                const inputnombre= document.getElementById("nombre");
                const inputapellido= document.getElementById("apellido");
                const inputcorreo= document.getElementById("correo");
                const inputusuario= document.getElementById("usuario");
                const inputcontra= document.getElementById('contra');
                const inputcontra2= document.getElementById('contra2');
                const inputfoto = document.getElementById("Foto");
            
                if(inputcontra.value != inputcontra2.value){
                    alert("Las Contraseñas no coinciden");
                    return;
                }
                if((inputnombre.validity.valid && inputapellido.validity.valid && inputcorreo.validity.valid && inputusuario.validity.valid && inputcontra.validity.valid && inputfoto.validity.valid)){
                    alert("¡Usuario registrado!");
                }
                else{
                    return;    
                }
                //window.location.href="InicioSesion.html";
            }
        </script>

    </head>
    <body style="background: url('Fondo.jpg') no-repeat; background-size: cover;" class="cuerpo">
            <form autocomplete="off" action="Registro_Servlet" method="POST" class="container" enctype="multipart/form-data">>

                <h2 class="" style="height: 23px; font-family: 'Roboto Condensed', sans-serif; color: rgb(68, 185, 221);">Bienvenido a Notesweb </h2>
                <p style=" font-family: 'Oswald', sans-serif;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Por favor registrate para inicar la experiencia</p>
                <hr style="height: 2px; color: black; border: black;" ><!--color:rgb(216, 44, 44);-->
                <div class="row">
                     <div class="form-group col">
                        <input class="form-control" type="text" id="nombres" name="nombre" required placeholder="Nombre" pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$" title="solo ingrese letras">
                    </div>
                    <div class="form-group col">
                        <input class="form-control" type="text" id="apellidos" name="apellido" required placeholder="Apellido" pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*){2}$" title="Solo ingrese letras">
                    </div>
                </div>

                <input class="form-control" type="email" id="correos" name="correo" required placeholder="Correo electrónico">
                
                <div class="row">
                    <div class="form-group col">
                        <input class="form-control" type="password" id="contras" name="contra" required placeholder="Contraseña" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
                    </div>
                    <div class="form-group col">
                        <input class="form-control" type="password" id="contras2" name="contra2" required placeholder="Confirmar contraseña" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
                    </div>
                </div>
                <input class="form-control" type="text" id="usuarios" name="usuario" required placeholder="Nombre de Usuario" minlength="5" maxlength="20" pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+$" title="Mínimo 5 y máximo 20 letras sin espacios" autocomplete="off">
                <label for="fecha" style="color: #888888;">Fecha de nacimiento</label>
                <div class="datepicker">
                <input type="date" id="currentDate" style="color: #888888;" name="fecha"  min="1900-01-01" required>
                </div>
                <label for="imagen" style="color: #888888;">Imagen de pefil</label>
                <input id="Fotos"  name="image" class="form-control" type="file" accept="image/*" required>
                <a href="InicioSesion.html" class="BtnRegresarIS">Regresar</a>
                <input type="submit"  value="Enviar" class="BtnSiRegistro" onclick="ClickRegistro()">

                </form>

        <script 
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
            var date = new Date();
            var currentDate = date.toISOString().slice(0,10);
            //date.getFullYear= date.getFullYear-10;
            var currentTime = date.getHours() + ':' + date.getMinutes();
            
            document.getElementById('currentDate').max = currentDate;
            document.getElementById('currentTime').value = currentTime;
        </script>

    </body>
</html>